"use strict";(self.webpackChunkreact_config=self.webpackChunkreact_config||[]).push([[590],{9820:function(e,t,n){var a=n(4768),s=n(1504),i=n(8352),r=n(2328),l=n(572),c=n(4336),o=n(5440);const d=(0,c.KS)({reducerPath:"globalData",baseQuery:(0,o._)({baseUrl:"https://dummyjson.com"}),endpoints:e=>({getProducts:e.query({query:()=>"/products/category/vehicle",transformResponse:e=>e.products})})}),{useGetProductsQuery:u}=d;var m=(0,l.eS)({reducer:{[d.reducerPath]:d.reducer},middleware:e=>e().concat(d.middleware)}),p=(n(3248),n(2084)),h=n.n(p);function f(e){(0,s.useEffect)((()=>(window.addEventListener("resize",e),()=>window.removeEventListener("resize",e))),[e])}var v,g;function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b.apply(this,arguments)}var x,j,N=e=>s.createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 12 7"},e),v||(v=s.createElement("path",{d:"M.315 6.684c.42.421 1.103.421 1.523 0l4.822-4.84c.42-.421.42-1.106 0-1.528a1.074 1.074 0 0 0-1.523 0L.315 5.156a1.083 1.083 0 0 0 0 1.528"})),g||(g=s.createElement("path",{d:"M11.685 6.684c.42-.422.42-1.107 0-1.529L6.863.316a1.074 1.074 0 0 0-1.523 0 1.083 1.083 0 0 0 0 1.529l4.822 4.839c.42.421 1.102.421 1.523 0"}))),w=n(7624),y=(0,s.memo)((e=>{let{label:t,options:n,defaultSelectedOptionId:i,searchParamName:r,setParams:l}=e;const[c,o]=(0,a.k5)(),[d,u]=(0,s.useState)(!1),[m,p]=(0,s.useState)(i),[f,v]=(0,s.useState)(-1),g=(0,s.useRef)(null),b=(0,s.useRef)(null),x=(0,s.useRef)(null),j=(0,s.useCallback)((()=>{d&&setTimeout((()=>{document.addEventListener("click",(e=>{e.target.closest("[data-select]")!==b.current&&u(!1)}),{once:!0})}))}),[d]);if((0,s.useEffect)(j,[j]),c.has(r)){const e=c.get(r);e!==m&&p(e)}else m!==i&&p(i);const y=n.find((e=>e.id===m)),S=n.map(((e,t)=>(0,w.jsx)("button",{type:"button",className:h()("iPQmwl4Y",m===e.id&&"oux5e3jW"),id:e.id,role:"option","aria-selected":m===e.id,style:{paddingTop:0===t?"12px":"",paddingBottom:t===n.length-1?"12px":""},children:e.name},e.id)));return(0,w.jsxs)("form",{className:"KnSmksbq",children:[(0,w.jsx)("p",{className:"LcfnxQYu",children:`${t}:`}),(0,w.jsxs)("div",{ref:b,className:"nX2as6X0","data-select":!0,children:[(0,w.jsxs)("button",{ref:g,className:"_0ZK4OGKY",type:"button",onClick:function(){u(!d),v(-1),d||setTimeout((()=>{var e;null===(e=x.current)||void 0===e||e.focus()}),0)},"aria-label":`Open select ${t}`,children:[null==y?void 0:y.name,(0,w.jsx)(N,{className:h()("RYVLCRZu",d&&"wb_VwSJn")})]}),(0,w.jsx)("div",{ref:x,onClick:e=>{var t;const n=e.target.closest('[role="option"]');if(!n)return;const a=n.id;p(a),u(!1),c.set(r,a),o(c),l((e=>({...e,sortBy:a}))),null===(t=g.current)||void 0===t||t.focus()},onKeyDown:e=>{if("ArrowDown"===e.code){var t;e.preventDefault();let a=f+1;a===n.length&&(a=0),(null===(t=x.current)||void 0===t?void 0:t.children[a]).focus(),v(a)}else if("ArrowUp"===e.code){var a;e.preventDefault();let t=f-1;t<0&&(t=n.length-1),(null===(a=x.current)||void 0===a?void 0:a.children[t]).focus(),v(t)}else if("Home"===e.code){var s;e.preventDefault();const t=0;(null===(s=x.current)||void 0===s?void 0:s.children[t]).focus(),v(t)}else if("End"===e.code){var i;e.preventDefault();const t=n.length-1;(null===(i=x.current)||void 0===i?void 0:i.children[t]).focus(),v(t)}},className:"i7UZdXue",style:{display:d?"":"none"},role:"listbox","aria-activedescendant":m,tabIndex:0,children:S})]})]})})),S={filterBlock:"e5DaHesY"},B=(n(2168),n(5104),n(8312),"ZIolyMK6");function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},k.apply(this,arguments)}var P,C,E=e=>s.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 12 7"},e),x||(x=s.createElement("path",{d:"M.315 6.684c.42.421 1.103.421 1.523 0l4.822-4.84c.42-.421.42-1.106 0-1.528a1.074 1.074 0 0 0-1.523 0L.315 5.156a1.083 1.083 0 0 0 0 1.528"})),j||(j=s.createElement("path",{d:"M11.685 6.684c.42-.422.42-1.107 0-1.529L6.863.316a1.074 1.074 0 0 0-1.523 0 1.083 1.083 0 0 0 0 1.529l4.822 4.839c.42.421 1.102.421 1.523 0"}))),I=(0,s.memo)((e=>{let{value:t,isChecked:n,updateParams:a}=e;return(0,w.jsxs)("button",{className:"c5t4Q0OC",type:"submit",onClick:function(){a(n?e=>e.filter((e=>e!==t)):e=>[...e,t])},role:"checkbox","aria-checked":n,children:[(0,w.jsx)("span",{className:h()("dTXWAkLn",n&&"GAcIUQux")}),t]})})),A=e=>{let{name:t,label:n,values:i,initIsClosed:r=!1,setFilterParams:l}=e;const[c,o]=(0,a.k5)(),d=(0,s.useRef)(null),[u,m]=(0,s.useState)(r),[p,f]=(0,s.useState)(!0),[v,g]=(0,s.useState)([]),b=i.length>=8;(0,s.useEffect)((()=>{c.has(t)?g(c.getAll(t)):g([])}),[c,t]);const x=(0,s.useCallback)((()=>{l((e=>({...e,filters:{...null==e?void 0:e.filters,[t]:v}})))}),[t,v,l]);(0,s.useEffect)(x,[x]);const j=i.slice().sort().map(((e,t)=>(0,w.jsx)("li",{hidden:b&&p&&t>4,children:(0,w.jsx)(I,{value:e,isChecked:v.includes(e),updateParams:g})},e)));if(b){const e=(0,w.jsx)("li",{children:(0,w.jsx)("button",{className:"gfHT2aIY",onClick:()=>f((e=>!e)),type:"button",children:p?"Show more":"Collapse"})},"AccordionButton");p?j.splice(4,1,e):j.push(e)}return(0,w.jsxs)("form",{onSubmit:e=>{e.preventDefault();const n=new URLSearchParams;v.forEach((e=>n.append(t,e))),Array.from(c).forEach((e=>{let[a,s]=e;a!==t&&n.append(a,s)})),o(n)},className:B,children:[(0,w.jsxs)("button",{type:"button",className:"vlYR2hrd",onClick:()=>m(!u),"aria-label":u?`Open filter menu ${n}`:`Collapse filter menu ${n}`,children:[(0,w.jsx)("p",{className:"zoTeSD3J",children:n}),(0,w.jsx)(E,{className:h()("hfBHdCgV",u&&"IMiXig5H")})]}),(0,w.jsx)("ul",{ref:d,className:"gezeStIt",style:{display:u?"none":""},children:j})]})},L="yahZ1Prt",O="D7dPjxMp";function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},D.apply(this,arguments)}var M=e=>s.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 12 7"},e),P||(P=s.createElement("path",{d:"M.315 6.684c.42.421 1.103.421 1.523 0l4.822-4.84c.42-.421.42-1.106 0-1.528a1.074 1.074 0 0 0-1.523 0L.315 5.156a1.083 1.083 0 0 0 0 1.528"})),C||(C=s.createElement("path",{d:"M11.685 6.684c.42-.422.42-1.107 0-1.529L6.863.316a1.074 1.074 0 0 0-1.523 0 1.083 1.083 0 0 0 0 1.529l4.822 4.839c.42.421 1.102.421 1.523 0"}))),F=e=>{let{setFilterParams:t}=e;const[n,i]=(0,a.k5)(),[r,l]=(0,s.useState)(!1),[c,o]=(0,s.useState)(null),[d,m]=(0,s.useState)(0),[p,v]=(0,s.useState)(0),[g,b]=(0,s.useState)(0),[x,j]=(0,s.useState)(0),[N,y]=(0,s.useState)("0"),[S,B]=(0,s.useState)("0"),[k,P]=(0,s.useState)(0),[C,E]=(0,s.useState)(0),I=(0,s.useRef)(null),A=(0,s.useRef)(null),D=(0,s.useRef)(null),F=(0,s.useRef)(null),R=(0,s.useRef)(null),T=(0,s.useRef)(null),{data:H}=u(),_=(0,s.useCallback)((()=>{if(!H)return;const e=H.map((e=>e.price)).sort(((e,t)=>e-t)),t=Number(e[0].toFixed(0)),n=Number(e[e.length-1].toFixed(0));m(t),v(n),b(t),y(String(t)),j(n),B(String(n))}),[H]);(0,s.useEffect)(_,[_]),!n.has("minPrice")&&null!=c&&c.has("minPrice")&&(b(d),y(String(d)),j(p),B(String(p))),c!==n&&o(n);const Y=(0,s.useCallback)((()=>D.current.offsetWidth),[]),q=(0,s.useCallback)((()=>R.current.offsetWidth/Y()*100),[Y]),K=(0,s.useCallback)(((e,t)=>{const n=q(),a=100-2*n,s=p-d,i=(t-d)/s;if(0===s)P(0),E(Number((100-q()).toFixed(2)));else if("min"===e){const e=Number((i*a).toFixed(2));P(e)}else if("max"===e){const e=Number((i*a+n).toFixed(2));E(e)}}),[q,p,d]),$=(0,s.useCallback)((()=>{K("min",g),K("max",x)}),[g,x,K]);(0,s.useLayoutEffect)($,[$]),f($);const J=(0,s.useCallback)((()=>{const e=C-k,t=k;F.current.style.width=`${e}%`,F.current.style.left=`${t}%`}),[k,C]);(0,s.useLayoutEffect)(J,[J]);const z=e=>{e.preventDefault();let t=!1;const n=document.querySelector("#filterBlockMenu");n&&"scroll"===n.style.overflowY&&(t=!0,n.style.overflowY="hidden");const a=e.target.dataset.buttonType,s="min"===a?R.current:T.current,i=q();let r,l;"min"===a?(r=0,l=C-i):(r=k+i,l=100-i);const c=e.clientX-s.getBoundingClientRect().left;function o(e){const t=D.current.getBoundingClientRect().left;let n=(e.clientX-t-c)/Y()*100;n<r?n=r:n>l&&(n=l),n=Number(n.toFixed(2)),function(e,t){const n=q(),a=100-2*n,s=p-d;if("min"===e){let e=t/a*s+d;e=Number(e.toFixed()),b(e),y(String(e))}else{let e=(t-n)/a*s+d;e=Number(e.toFixed()),j(e),B(String(e))}}(a,n)}s.setPointerCapture(e.pointerId),s.addEventListener("pointermove",o),s.addEventListener("pointerup",(function(){s.removeEventListener("pointermove",o),A.current.requestSubmit(),t&&(n.style.overflowY="scroll")}),{once:!0})},X=e=>{const t=e.target.name,{value:n}=e.target;"minPrice"===t?y(n):B(n)},Z=e=>{if("Enter"===e.code){const t=e.target,n=t.name;let a=Number(t.value);"minPrice"===n&&a>x?a=x:"maxPrice"===n&&a<g?a=g:a<d?a=d:a>p&&(a=p),"minPrice"===n?(y(String(a)),b(a)):(B(String(a)),j(a)),setTimeout((()=>{A.current.requestSubmit()}),0)}},W=e=>{const{buttonType:t}=e.target.dataset;if("ArrowUp"===e.code||"ArrowRight"===e.code)if(e.preventDefault(),"min"===t){let e=g+1;e>x&&(e=x),b(e),y(String(e))}else{let e=x+1;e>p&&(e=p),j(e),B(String(e))}else if("ArrowDown"===e.code||"ArrowLeft"===e.code)if(e.preventDefault(),"min"===t){let e=g-1;e<d&&(e=d),b(e),y(String(e))}else{let e=x-1;e<g&&(e=g),j(e),B(String(e))}else if("PageUp"===e.code){e.preventDefault();const n=.05*(p-d);if("min"===t){let e=Number((g+n).toFixed(0));e>x&&(e=x),b(e),y(String(e))}else{let e=Number((x+n).toFixed(0));e>p&&(e=p),j(e),B(String(e))}}else if("PageDown"===e.code){e.preventDefault();const n=.05*(p-d);if("min"===t){let e=Number((g-n).toFixed(0));e<d&&(e=d),b(e),y(String(e))}else{let e=Number((x-n).toFixed(0));e<g&&(e=g),j(e),B(String(e))}}else if("Home"===e.code)if(e.preventDefault(),"min"===t){const e=x;b(e),y(String(e))}else{const e=p;j(e),B(String(e))}else if("End"===e.code)if(e.preventDefault(),"min"===t){const e=d;b(e),y(String(e))}else{const e=g;j(e),B(String(e))}};return(0,w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n.set("minPrice",String(g)),n.set("maxPrice",String(x)),i(n),t((e=>({...e,minPrice:g-1,maxPrice:x})))},className:"qA7hQ10W",ref:A,children:[(0,w.jsxs)("button",{type:"button",className:"ZZL95uoP",onClick:()=>l(!r),"aria-label":r?"Show price filter":"Collapse price filter",children:[(0,w.jsx)("p",{className:"HMQz_pk6",children:"Price, $"}),(0,w.jsx)(M,{className:h()("b3RqAvmG",r&&"Fcvfa8CK")})]}),(0,w.jsxs)("div",{ref:I,className:"AYH8inUn",style:{display:r?"none":""},children:[(0,w.jsxs)("div",{className:"DHpYcu91",children:[(0,w.jsx)("span",{ref:D,className:"BTelIUCL"}),(0,w.jsx)("span",{ref:F,className:"zna0Rapo"}),(0,w.jsx)("button",{ref:R,onPointerDown:z,onKeyDown:W,type:"button","data-button-type":"min",className:L,style:{left:`${k}%`},role:"slider","aria-valuemin":d,"aria-valuemax":x,"aria-valuenow":g,"aria-label":"Minimal price slider"}),(0,w.jsx)("button",{ref:T,onPointerDown:z,onKeyDown:W,type:"button","data-button-type":"max",className:L,style:{left:`${C}%`},role:"slider","aria-valuemin":g,"aria-valuemax":p,"aria-valuenow":x,"aria-label":"Maximum price slider"})]}),(0,w.jsxs)("div",{className:"BJHmQz2Y",children:[(0,w.jsx)("input",{onInput:X,onKeyDown:Z,type:"number",name:"minPrice",className:O,value:N,min:d,max:x,"aria-label":"Enter minimal price"}),(0,w.jsx)("span",{className:"gVLuX0hY",children:"-"}),(0,w.jsx)("input",{onInput:X,onKeyDown:Z,type:"number",name:"maxPrice",className:O,value:S,min:g,max:p,"aria-label":"Enter maximum price"})]})]})]})},R=n.p+"assets/images/threeDotsSpinner.d2ddd7e013d4d795ee6f..svg",T=e=>{let{blockClassName:t,spinnerClassName:n}=e;return(0,w.jsx)("div",{className:t||"mPa_yd7R",children:(0,w.jsx)("img",{className:n||"i0ZmgEsa",src:R,alt:"Loading spinner ..."})})},H=(0,s.memo)((e=>{let{filters:t,isLoading:n,setFilterParams:a}=e;const i=(0,s.useMemo)((()=>{if(t)return Object.entries(t).map(((e,t)=>{let[n,s]=e;return(0,w.jsx)(A,{name:n,label:oe[n]||n,values:s,initIsClosed:t>1,setFilterParams:a},n)}))}),[t,a]);return(0,w.jsxs)("div",{className:h()(S.filterBlock,n&&S.filterBlock_inactive),children:[(0,w.jsx)(F,{setFilterParams:a}),i||(0,w.jsx)(T,{})]})}));function _(e){return e.querySelectorAll('button:not([disabled]), \n    [href], \n    input:not([disabled]), \n    select:not([disabled]), \n    textarea:not([disabled]), \n    [tabindex]:not([tabindex="-1"]):not([disabled]), \n    details:not([disabled]), \n    summary:not(:disabled)')}var Y,q,K={container:"ZTu0hQ9M"};function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$.apply(this,arguments)}var J=e=>s.createElement("svg",$({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 12 13"},e),Y||(Y=s.createElement("path",{d:"M.296 12.205a1.006 1.006 0 0 1 0-1.424L10.279.815a1.01 1.01 0 0 1 1.426 0c.393.393.393 1.03 0 1.423l-9.983 9.967a1.01 1.01 0 0 1-1.426 0"})),q||(q=s.createElement("path",{d:"M.295.795a1.01 1.01 0 0 1 1.426 0l9.984 9.967c.393.393.393 1.03 0 1.423a1.01 1.01 0 0 1-1.427 0L.295 2.22a1.006 1.006 0 0 1 0-1.424"})));const z=(0,s.memo)((e=>{let{children:t,isMenuOpen:n,setIsMenuOpen:a,label:i,openButton:r,id:l}=e;const c=(0,s.useRef)(null),o=(0,s.useRef)(null);(function(e){const t=(0,s.useCallback)((()=>{if(e){const e=window.innerWidth-document.documentElement.clientWidth;document.body.style.paddingRight=`${e}px`,document.body.style.overflow="hidden",document.body.style.touchAction="none"}return()=>{e&&(document.body.style.paddingRight="",document.body.style.overflow="",document.body.style.touchAction="")}}),[e]);(0,s.useEffect)(t,[t])})(n),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const a=(0,s.useCallback)((()=>{const n=e.current;let a,s;return t?(a=Array.from(_(document.body)).filter((e=>!e.closest('[role="dialog"]'))),a.forEach((e=>{e.tabIndex=-1,e.ariaHidden="true"}))):(s=Array.from(_(n)),s.forEach((e=>{e.tabIndex=-1,e.ariaHidden="true"}))),()=>{t?a.forEach((e=>{e.tabIndex=0,e.ariaHidden="false"})):s.forEach((e=>{e.tabIndex=0,e.ariaHidden="false"}))}}),[e,t,...n]);(0,s.useEffect)(a,[a])}(o,n);const d=(0,s.useCallback)((()=>{const e=o.current;if(!e)return;e.style.height="",e.style.overflowY="";const t=window.innerHeight,n=e.scrollHeight;e.style.overflowY=n>t?"scroll":"hidden",e.style.height=`${t}px`}),[]);d(),f(d);const u=(0,s.useCallback)((()=>{var e;n&&(null===(e=o.current)||void 0===e||e.focus())}),[n]);return(0,s.useEffect)(u,[u]),(0,w.jsx)("div",{ref:c,className:h()("ZN5l_HZV",n&&"UkxEnD84"),onClick:e=>{e.target===c.current&&(a(!1),null==r||r.focus())},children:(0,w.jsxs)("div",{id:l||void 0,ref:o,className:h()(K.container,"piijt6mO",n&&"r_NTAyxt"),"aria-hidden":!n,role:"dialog","aria-modal":!0,"aria-label":i,tabIndex:n?0:-1,children:[(0,w.jsx)("button",{type:"button",className:"I00cxlxj","aria-label":`Закрити ${i}`,onClick:()=>{a(!1),null==r||r.focus()},children:(0,w.jsx)(J,{className:"dl9Fv0e4"})}),t]})})}));var X=z;function Z(e){let t=!1,n="",a=e.toString();a.match(/^-/)&&(t=!0,a=a.slice(1));const s=a.match(/\.\d{1,2}/);s&&([n]=s,2===n.length&&(n+="0"),a=a.slice(0,s.index)),a=a.split("").reverse();let i=0;for(let e=1;e<a.length;e+=1)e%3==0&&a[e+i]&&(a.splice(e+i,0,","),i+=1);return t&&a.push("-"),a=`${a.reverse().join("")}${n}`,a}var W,Q={card:"ng9dABx4",iconButtonsBlock:"p4hzF2wi",iconButton:"ZZp2HNCb",iconButton_active:"r1jitE9Q",icon:"mhNwLyHJ",spinner:"NfvoTWw1",imageLink:"mIWGXKxs",image:"nXba8_IH",textLink:"L37eDdj5",priceAndStarsBlock:"IgoWm5Su",price:"gFCxKShI",priceSpan:"uYxY3R1Q",starsBlock:"qZsfw_li",starIconActive:"Gbgp2tDg",starIconInactive:"VGYKJh1S"};function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},V.apply(this,arguments)}var U,G=e=>s.createElement("svg",V({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 47.94 47.94",width:"1em",height:"1em"},e),W||(W=s.createElement("path",{d:"m26.285 2.486 5.407 10.956a2.58 2.58 0 0 0 1.944 1.412l12.091 1.757c2.118.308 2.963 2.91 1.431 4.403l-8.749 8.528a2.58 2.58 0 0 0-.742 2.285l2.065 12.042c.362 2.109-1.852 3.717-3.746 2.722l-10.814-5.685a2.59 2.59 0 0 0-2.403 0l-10.814 5.685c-1.894.996-4.108-.613-3.746-2.722l2.065-12.042a2.58 2.58 0 0 0-.742-2.285L.783 21.014c-1.532-1.494-.687-4.096 1.431-4.403l12.091-1.757a2.58 2.58 0 0 0 1.944-1.412l5.407-10.956c.946-1.919 3.682-1.919 4.629 0"}))),ee=(0,s.memo)((e=>{let{title:t,productId:n,price:i,rating:r,src:l}=e;const c=`/vehicles/${n}`,o=(0,s.useMemo)((()=>{const e=Number(r.toFixed()),t=[];for(let n=0;n<e;n+=1)t.push((0,w.jsx)(G,{className:Q.starIconActive},n));const n=5-e;if(n)for(let a=0;a<n;a+=1)t.push((0,w.jsx)(G,{className:Q.starIconInactive},a+e));return t}),[r]);return(0,w.jsxs)("div",{className:Q.card,children:[(0,w.jsx)(a.cH,{className:Q.imageLink,to:c,children:(0,w.jsx)("img",{className:Q.image,src:l,alt:t})}),(0,w.jsx)(a.cH,{className:Q.textLink,to:c,children:t}),(0,w.jsxs)("div",{className:Q.priceAndStarsBlock,children:[(0,w.jsx)("div",{className:Q.starsBlock,children:o}),(0,w.jsx)("div",{className:Q.priceBlock,children:(0,w.jsxs)("p",{className:Q.price,children:[(0,w.jsx)("span",{className:Q.priceSpan,children:"$"}),Z(Number(i))]})})]})]})})),te=(0,s.forwardRef)(((e,t)=>{let{className:n,type:a,children:s,id:i,onClick:r,ariaHidden:l=!1,ariaLabel:c}=e;const o=a||"button";return(0,w.jsx)("button",{ref:t,type:o,className:h()(n,"b_aG7bzo"),id:i,"aria-hidden":l,"aria-label":c,onClick:r,children:s})})),ne={main:"OmoEuiv_",controlBlock:"SSpy7c_g",infoBlock:"bjYfczkn",filterButton:"nfzNDRTl",filterIcon:"MYanoXJS",productAmount:"vIMLGNwq",sortAndAppearanceBlock:"x_COJBJX",filtersAndProducts:"oy4h9UaN",products:"cg9ByK00",filterBlockInMenu:"rqgO5KQM",noProductsBlock:"rs0CgDtD",noProductsContent:"ppwk9hDD",noProductsLine:"HO1nVKdY",noProductsText:"b75WI0aY",resetButton:"qfI88X7K"};function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ae.apply(this,arguments)}var se,ie=e=>s.createElement("svg",ae({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 1792 1792"},e),U||(U=s.createElement("path",{d:"M1595 295q17 41-14 70l-493 493v742q0 42-39 59-13 5-25 5-27 0-45-19l-256-256q-19-19-19-45V858L211 365q-31-29-14-70 17-39 59-39h1280q42 0 59 39"})));function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},re.apply(this,arguments)}var le=e=>s.createElement("svg",re({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 65",width:"1em",height:"1em"},e),se||(se=s.createElement("path",{d:"M43.636 0 0 65h7.855L52 0z"})));const ce=["category","description","id","images","meta","price","rating","reviews","sku","stock","tags","thumbnail","title","dimensions"],oe={availabilityStatus:"availability",discountPercentage:"discount percentage",minimumOrderQuantity:"minimum order quantity",returnPolicy:"return policy",shippingInformation:"shipping",warrantyInformation:"warranty"};function de(){const[e,t]=(0,a.k5)(),n=(0,s.useRef)(null),[i,r]=(0,s.useState)(null),[l,c]=(0,s.useState)([]),[o,d]=(0,s.useState)(null),[m,p]=(0,s.useState)(null),[v,g]=(0,s.useState)(!1),[b,x]=(0,s.useState)(0),j=(0,s.useCallback)((()=>{x(window.innerWidth)}),[]);(0,s.useLayoutEffect)((()=>{j()}),[j]),f(j);const{data:N,isLoading:S}=u();N&&N!==i&&(r(N),c(N),d(function(e){const t={};return e.forEach((e=>{Object.entries(e).forEach((e=>{let[n,a]=e;if(ce.includes(n))return;const s=String(a);n in t?t[n].includes(s)||t[n].push(s):t[n]=[s]}))})),t}(N)));const B=(0,s.useCallback)((()=>{if(!m||!i)return;const e=[],{minPrice:t,maxPrice:n}=m,a=Object.entries(m.filters),s=null==m?void 0:m.sortBy;switch(i.forEach((s=>{let i=!0;void 0!==t&&void 0!==n&&s.price>=t&&s.price<=n||void 0===t&&void 0===n?a.forEach((e=>{let[t,n]=e;if(!n.length)return;const a=String(s[t]);n.includes(a)||(i=!1)})):i=!1,i&&e.push(s)})),s){case"name-A-Z":e.sort(((e,t)=>e.title.localeCompare(t.title)));break;case"name-Z-A":e.sort(((e,t)=>-e.title.localeCompare(t.title)));break;case"price-down":e.sort(((e,t)=>+t.price-+e.price));break;case"price-up":e.sort(((e,t)=>+e.price-+t.price));break;case"rate-down":e.sort(((e,t)=>+t.rating-+e.rating));break;case"rate-up":e.sort(((e,t)=>+e.rating-+t.rating))}c(e)}),[m,i]);(0,s.useEffect)(B,[B]);const k=(null==l?void 0:l.length)||0,P=(0,s.useMemo)((()=>null==l?void 0:l.map((e=>(0,w.jsx)(ee,{title:e.title,productId:e.id.toString(),price:e.price.toString(),rating:e.rating,src:e.thumbnail},e.id)))),[l]),C=(0,s.useMemo)((()=>(0,w.jsx)("div",{className:ne.noProductsBlock,children:(0,w.jsxs)("div",{className:ne.noProductsContent,children:[(0,w.jsx)(le,{className:ne.noProductsLine}),(0,w.jsx)("p",{className:ne.noProductsText,children:"Products haven't been found"}),(0,w.jsx)(te,{className:ne.resetButton,onClick:function(){const n={sortBy:null==m?void 0:m.sortBy,filters:{}};p(n);const a=Array.from(e).filter((e=>{let[t]=e;return"sortBy"===t}));t(a)},children:"Delete filters"})]})})),[m,e,t]),E=(0,s.useMemo)((()=>[{name:"default",id:"default"},{name:"name (A - Z)",id:"name-A-Z"},{name:"name (Z - A)",id:"name-Z-A"},{name:"price (descending)",id:"price-down"},{name:"price (ascending)",id:"price-up"},{name:"rate (descending)",id:"rate-down"},{name:"rate (ascending)",id:"rate-up"}]),[]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("main",{className:h()(K.container,ne.main),children:[(0,w.jsxs)("div",{className:ne.controlBlock,children:[(0,w.jsxs)("div",{className:ne.infoBlock,children:[b<=1024&&(0,w.jsx)("button",{ref:n,type:"button",className:ne.filterButton,"aria-haspopup":"dialog","aria-label":"Open filter menu",onClick:()=>g(!0),children:(0,w.jsx)(ie,{className:ne.filterIcon})}),b>400&&(0,w.jsxs)("p",{className:ne.productAmount,"aria-atomic":"true","aria-live":"assertive",children:["Products found:",(0,w.jsx)("span",{children:S?"Loading ...":k})]})]}),(0,w.jsx)("div",{className:ne.sortAndAppearanceBlock,children:(0,w.jsx)(y,{label:"Sort by",options:E,defaultSelectedOptionId:"default",searchParamName:"sortBy",setParams:p})})]}),(0,w.jsxs)("div",{className:ne.filtersAndProducts,children:[b>1024&&(0,w.jsx)(H,{filters:o,isLoading:S,setFilterParams:p}),(0,w.jsxs)("div",{className:ne.products,children:[!S&&!P.length&&C,P]})]})]}),b<=1024&&(0,w.jsx)(X,{isMenuOpen:v,setIsMenuOpen:g,label:"Filter Menu",openButton:n.current,id:"filterBlockMenu",children:(0,w.jsx)("div",{className:ne.filterBlockInMenu,children:(0,w.jsx)(H,{filters:o,isLoading:S,setFilterParams:p})})})]})}function ue(){return(0,w.jsx)(de,{})}var me,pe=n(3284),he=(0,s.memo)((e=>{let{activeSlideId:t,setActiveSlideId:n,slides:a,gap:i,perView:r=1}=e;const l=(0,s.useRef)(null),c=(0,s.useRef)(null),o=(100-i*(r-1))/r,d=`repeat(${a.length}, ${o}%)`,u=-(t*o+t*i),m=(0,s.useCallback)((()=>{Array.from(c.current.children).forEach(((e,t)=>e.setAttribute("data-slide-id",String(t))))}),[a]);return(0,s.useEffect)(m,[m]),(0,w.jsx)("div",{ref:l,className:"KsdTNh1X",children:(0,w.jsx)("div",{ref:c,className:"F8Kc8IcM",style:{gridTemplateColumns:d,gap:`${i}%`,transform:`translateX(${u}%)`},onPointerDown:e=>{e.preventDefault();const s=l.current,o=c.current,d=o.lastElementChild,u=o.style.transform;o.style.transitionDuration="0s";const m=e.clientX,p=s.getBoundingClientRect().left,h=o.getBoundingClientRect().left-p;let f,v;function g(e){const t=e.clientX;v=h+(t-m);const n=d.getBoundingClientRect().right,a=s.getBoundingClientRect().right;v>0?v/=4:Math.floor(n)<Math.floor(a)?v=(v-f)/4+f:f=v,o.style.transform=`translateX(${v}px)`}document.addEventListener("pointermove",g),document.addEventListener("pointerup",(function(e){document.removeEventListener("pointermove",g),o.style.transitionDuration="1s";const l=.05*s.offsetWidth,c=e.clientX-m,p=d.getBoundingClientRect().right,h=s.getBoundingClientRect().right;if(Math.abs(c)>l&&v<0&&p>h){const e=s.getBoundingClientRect();let t=e.top+1;if(t<0&&(t=e.bottom-1),o.style.zIndex="10000",c<0){var f;let a=e.right-1,s=null===(f=document.elementFromPoint(a,t))||void 0===f?void 0:f.closest("[data-slide-id]");var b;s||(a-=e.width*(+i/100),s=null===(b=document.elementFromPoint(a,t))||void 0===b?void 0:b.closest("[data-slide-id]"));const l=Number(s.dataset.slideId);n(l-(r-1)),o.style.zIndex=""}else if(c>0){var x;let a=e.left+1,s=null===(x=document.elementFromPoint(a,t))||void 0===x?void 0:x.closest("[data-slide-id]");var j;s||(a+=e.width*(+i/100),s=null===(j=document.elementFromPoint(a,t))||void 0===j?void 0:j.closest("[data-slide-id]"));const r=Number(s.dataset.slideId);n(r),o.style.zIndex=""}}else v>0&&0!==t?n(0):p<h&&t!==a.length-r?n(a.length-r):o.style.transform=u}),{once:!0})},children:a})})})),fe={main:"FPnT5LBF",main_inactive:"fHrmTXPq",mainBlock:"Cdgb33RP",imageSliderBlock:"CvBvJdHg",imagePaginationBlock:"Iijm5ZDr",titleAndPriceBlock:"zSa4De_O",priceAndCartBlock:"hewkwNI6",mainPriceBlock:"zsoKSTQR",priceSpan:"eg2RSZsY",mainPrice:"XvvRdjz0",discountBlock:"qd8Cbumo",cartBtnAndBannerBlock:"pf12DXof",cartButton:"FI6PHYFH",tabList:"jWTYh6zh",tabButtonLine:"H8TfFG3B",tabButtonLine_active:"Pm9A1vv_",tabButton:"VOKpDgCj",tabPanelsAndBannerBlock:"bnes4_Us",tabPanel:"tHeZ_eg1",tabPanel_active:"Siu1HtoD",title:"olijGmKE",paginationBtn:"Wsm7q6Hz",paginationBtn_active:"BRVriQqV",paginationBtnImg:"tcvLWYLj",slide:"enyzMsCl",slideImg:"bYoaFcLd",descriptionBlock:"J3CApb58",descriptionSubtitle:"LAhD2itR",descriptionText:"bbOgzr2o",specsBlock:"WW9JRw4M",specsTitle:"yXtA1CCA",specsList:"qccLm2B0",spec:"zgrVfQo8",specName:"VopSXSNY",specValue:"h_cJCf5m",reviews:"NnJ_ovxL",review:"eYgeGJWv",nameAndDate:"V0mM1Ndd",reviewName:"spEdCFxG",reviewDate:"L6BzpBJ8",starsBlock:"iQTKOAAN",starActive:"JFHKEqWa",starInactive:"jHSHsmWr",reviewText:"VQINf8cU",commentForm:"_VTZ2JOp",commentFormTitle:"za3XlJnY",commentFormStars:"y9M08H1U",createCommentStarActive:"vIJJC5HQ",createCommentStarInactive:"KkKOqFQE",inputsAndTextarea:"KPWb3b7C",input:"EaJMpfVe",textarea:"O1WbZAY3",submitButton:"XvuzckNT",commentBlockLine:"bNhMlvVU"};function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ve.apply(this,arguments)}var ge=e=>s.createElement("svg",ve({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 47.94 47.94",width:"1em",height:"1em"},e),me||(me=s.createElement("path",{d:"m26.285 2.486 5.407 10.956a2.58 2.58 0 0 0 1.944 1.412l12.091 1.757c2.118.308 2.963 2.91 1.431 4.403l-8.749 8.528a2.58 2.58 0 0 0-.742 2.285l2.065 12.042c.362 2.109-1.852 3.717-3.746 2.722l-10.814-5.685a2.59 2.59 0 0 0-2.403 0l-10.814 5.685c-1.894.996-4.108-.613-3.746-2.722l2.065-12.042a2.58 2.58 0 0 0-.742-2.285L.783 21.014c-1.532-1.494-.687-4.096 1.431-4.403l12.091-1.757a2.58 2.58 0 0 0 1.944-1.412l5.407-10.956c.946-1.919 3.682-1.919 4.629 0"})));const be={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"};function xe(){const e=(0,pe.W4)(),t=(0,s.useRef)(null),n=(0,s.useRef)(null),[a,i]=(0,s.useState)(null),[r,l]=(0,s.useState)(null),[c,o]=(0,s.useState)(0),[d,m]=(0,s.useState)(!0),[p,f]=(0,s.useState)(5),[v,g]=(0,s.useState)(""),[b,x]=(0,s.useState)(""),[j,N]=(0,s.useState)(""),{vehicleId:y}=e,{data:S,isLoading:B}=u();if(S&&!a){const e=S.find((e=>e.id===Number(y)));if(!e)throw new Response(null,{status:404});i(e)}const k=(0,s.useCallback)((()=>{if(!a)return;const e=[...a.reviews],t=localStorage.getItem("comments");if(t){const n=JSON.parse(t)[y];n&&e.push(...n)}l(e)}),[a,y]);(0,s.useEffect)(k,[k]);const P=(0,s.useMemo)((()=>{var e;return null==a||null===(e=a.images)||void 0===e?void 0:e.map(((e,t)=>(0,w.jsx)("button",{type:"button",className:h()(fe.paginationBtn,t===c&&fe.paginationBtn_active),onClick:()=>o(t),"aria-label":`Go to slide ${t}`,children:(0,w.jsx)("img",{src:e,className:fe.paginationBtnImg,alt:a.title})},e)))}),[a,c]),C=(0,s.useMemo)((()=>{var e;return null==a||null===(e=a.images)||void 0===e?void 0:e.map((e=>(0,w.jsx)("div",{className:fe.slide,children:(0,w.jsx)("img",{src:e,className:fe.slideImg,alt:a.title})},e)))}),[a]),E=(0,s.useCallback)((()=>{if(!a)return;let e;return e=_(d?n.current:t.current),e.forEach((e=>{e.tabIndex=-1,e.setAttribute("aria-hidden",String(!0))})),()=>{e.forEach((e=>{e.tabIndex=0,e.setAttribute("aria-hidden",String(!1))}))}}),[a,d]);(0,s.useEffect)(E,[E]);const I=(0,s.useMemo)((()=>{if(a&&a.description)return(0,w.jsxs)("div",{className:fe.descriptionBlock,children:[(0,w.jsx)("p",{className:fe.descriptionSubtitle,children:"About vehicle"}),(0,w.jsx)("p",{className:fe.descriptionText,children:a.description})]})}),[a]),A=(0,s.useMemo)((()=>{if(!a)return;let e=Object.entries(a).filter((e=>{let[t]=e;return!ce.includes(t)}));return e=e.map((e=>{let[t,n]=e;return[oe[t]||t,n]})),(0,w.jsxs)("div",{className:fe.specsBlock,children:[(0,w.jsx)("p",{className:fe.specsTitle,children:"Specs"}),(0,w.jsx)("ul",{className:fe.specsList,children:e.map(((e,t)=>{let[n,a]=e;return"object"==typeof a&&(a=a.join(", ")),(0,w.jsxs)("li",{className:fe.spec,children:[(0,w.jsx)("p",{className:fe.specName,children:`${n}:`}),(0,w.jsx)("p",{className:fe.specValue,children:a})]},t)}))})]})}),[a]),L=(0,s.useMemo)((()=>{if(r)return r.map(((e,t)=>{const n=new Date(e.date),a=n.getFullYear(),s=be[n.getMonth()+1],i=n.getDate(),{rating:r}=e,l=[];for(let e=1;e<=r;e+=1)l.push((0,w.jsx)(ge,{className:fe.starActive},e));const c=5-r;for(let e=1;e<=c;e+=1)l.push((0,w.jsx)(ge,{className:fe.starInactive},e+r));return(0,w.jsxs)("div",{className:fe.review,children:[(0,w.jsxs)("div",{className:fe.nameAndDate,children:[(0,w.jsx)("p",{className:fe.reviewName,children:e.reviewerName}),(0,w.jsx)("p",{className:fe.reviewDate,children:`${i} ${s} ${a}`})]}),(0,w.jsx)("div",{className:fe.starsBlock,children:l}),(0,w.jsx)("p",{className:fe.reviewText,children:e.comment})]},t)}))}),[r]),O=(0,s.useMemo)((()=>{const e=[];for(let t=1;t<=p;t+=1)e.push((0,w.jsx)(ge,{className:fe.createCommentStarActive,onClick:()=>f(t)},t));const t=5-p;for(let n=1;n<=t;n+=1)e.push((0,w.jsx)(ge,{className:fe.createCommentStarInactive,onClick:()=>f(n+p)},n+p));return e}),[p]),D=(0,s.useCallback)((e=>{e.preventDefault();const t=(new Date).toISOString(),n={rating:p,comment:j,reviewerName:v,reviewerEmail:b,date:t},a=localStorage.getItem("comments"),s=a&&JSON.parse(a)||{},i=s[y]||[],r={...s,[y]:[...i,n]};localStorage.setItem("comments",JSON.stringify(r)),k(),g(""),x(""),N("")}),[p,j,b,v,y,k]);return(0,w.jsx)("main",{className:h()(K.container,fe.main,B&&fe.main_inactive),children:a?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:fe.mainBlock,children:[(0,w.jsxs)("div",{className:fe.imageSliderBlock,children:[(0,w.jsx)("div",{className:fe.imagePaginationBlock,children:P}),(0,w.jsx)(he,{activeSlideId:c,setActiveSlideId:o,slides:C,gap:20})]}),(0,w.jsxs)("div",{className:fe.titleAndPriceBlock,children:[(0,w.jsx)("h1",{className:fe.title,children:null==a?void 0:a.title}),(0,w.jsxs)("div",{className:fe.priceAndCartBlock,children:[(0,w.jsxs)("div",{className:fe.mainPriceBlock,children:[(0,w.jsx)("span",{className:fe.priceSpan,children:"$"}),(0,w.jsx)("p",{className:fe.mainPrice,children:(null==a?void 0:a.price)&&Z(a.price)}),(null==a?void 0:a.discountPercentage)&&(0,w.jsx)("div",{className:fe.discountBlock,children:`-${a.discountPercentage}%`})]}),(0,w.jsx)("div",{className:fe.cartBtnAndBannerBlock,children:(0,w.jsx)(te,{className:fe.cartButton,ariaLabel:"Add to cart",children:"Add to cart"})})]})]})]}),(0,w.jsxs)("div",{className:fe.tabList,role:"tablist",children:[(0,w.jsxs)("button",{type:"button",className:fe.tabButton,role:"tab","aria-selected":d,"aria-controls":"descriptionTabPanel","aria-label":"Show description panel",onClick:()=>m(!0),children:["Description",(0,w.jsx)("span",{className:h()(fe.tabButtonLine,d&&fe.tabButtonLine_active)})]}),(0,w.jsxs)("button",{type:"button",className:fe.tabButton,role:"tab","aria-selected":!d,"aria-controls":"commentTabPanel","aria-label":"Show review panel",onClick:()=>m(!1),children:["Reviews",(0,w.jsx)("span",{className:h()(fe.tabButtonLine,!d&&fe.tabButtonLine_active)})]})]}),(0,w.jsx)("div",{className:fe.tabPanelsAndBannerBlock,children:(0,w.jsxs)("div",{className:fe.tabPanels,children:[(0,w.jsxs)("div",{ref:t,className:h()(fe.tabPanel,d&&fe.tabPanel_active),id:"descriptionTabPanel",role:"tabpanel",children:[I,A]}),(0,w.jsxs)("div",{ref:n,className:h()(fe.tabPanel,!d&&fe.tabPanel_active),id:"commentTabPanel",role:"tabpanel",children:[(0,w.jsxs)("form",{className:fe.commentForm,onSubmit:D,children:[(0,w.jsx)("p",{className:fe.commentFormTitle,children:"Leave your comment"}),(0,w.jsx)("div",{className:fe.commentFormStars,children:O}),(0,w.jsxs)("div",{className:fe.inputsAndTextarea,children:[(0,w.jsx)("input",{className:fe.input,type:"text",name:"name",placeholder:"Enter your name",value:v,onInput:e=>g(e.target.value),required:!0}),(0,w.jsx)("input",{className:fe.input,type:"email",name:"email",placeholder:"Enter your email",value:b,onInput:e=>x(e.target.value),required:!0}),(0,w.jsx)("textarea",{className:fe.textarea,name:"comment",placeholder:"Enter your comment",value:j,onInput:e=>N(e.target.value)})]}),(0,w.jsx)(te,{type:"submit",className:fe.submitButton,children:"Submit"})]}),(0,w.jsx)("span",{className:fe.commentBlockLine}),(0,w.jsx)("div",{className:fe.reviews,children:L})]})]})})]}):(0,w.jsx)(T,{})})}function je(){return(0,w.jsx)(xe,{})}const Ne=(0,a.Up)([{path:"/",element:(0,w.jsx)(ue,{}),children:[]},{path:"/vehicles/:vehicleId",element:(0,w.jsx)(je,{}),children:[]}]),we=document.getElementById("root");(0,i.C)(we).render((0,w.jsx)(s.StrictMode,{children:(0,w.jsx)(r.C_,{store:m,children:(0,w.jsx)(a.eT,{router:Ne})})}))}},function(e){e.O(0,[275],(function(){return 9820,e(e.s=9820)})),e.O()}]);